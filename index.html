<!DOCTYPE html>
<html>
  	<meta charset="utf-8"/>
    <title>timed response</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="jspsych-6.0.5/jspsych.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-html-button-response.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-image-keyboard-response.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-image-button-response.js"></script>
     <script src="jspsych-6.0.5/plugins/jspsych-same-different-html.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-dropdown.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-survey-multi-choice.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-survey-likert.js"></script>
    <script src="jspsych-6.0.5/plugins/jspsych-call-function.js"></script>

<!-- Include Choices CSS -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css"
/>
<!-- Include Choices JavaScript (latest) -->
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

  <head>
    <link href="jspsych-6.0.5/css/jspsych.css" rel="stylesheet" type="text/css"></link>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-database.js"></script>
  </head>
  <body>
    <pre id="participant"></pre>
    <script src="app.js"></script>
  </body>
  <script>

  	/* <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js">< /script>

  	remember to take the space out of the second script

  	 <link rel = “stylesheet” href=“static/js/jspsych-6/choices.js/public/assets/styles/base.css”/>
    <link rel = “stylesheet” href=“static/js/jspsych-6/choices.js/public/assets/styles/choices.min.css”/>

  	*/

    var database = firebase.database();
  
    //this used to be in a plugin. Remember to put the 'r' back into script.
    //<script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></scipt>

    // Get a reference to the database service
    //var database = firebase.database();

    //create timeline
    var timeline = [];


    var robot = {
      type: "image-button-response",
      stimulus: 'img/horses.png',
      choices: ['Dolphin', 'Horse', 'Tiger', 'Elephant'],
      prompt: "<p>What animal is in the picture?</p>"
    };
    timeline.push(robot);

    
    //welcome message and instructions
    var welcome = {
      type: "html-keyboard-response",
      stimulus: "<p>Welcome to our experiment about words.</p>" + "<p>We ask that you read the instructions <strong>carefully</strong> as you will not be able to go back during the experiment.</p>" + "<p>At the end, a <strong>pop-up</strong> will appear with a code that you can copy-paste into Mechanical Turk.</p>" +
      "<p style = 'font-size: 12px;'><strong>Press any key to continue.</strong></p>",
    };
    timeline.push(welcome);

    var calibration_test_instructions = {
      type: "html-keyboard-response",
      stimulus: "<p><strong><u>CALIBRATION TEST INSTRUCTIONS</u></strong></p>" + "<p>Before we begin our experiment, we ask that you complete a calibration test. </p>" + "<p>A cross will appear in the center of the screen, followed by a blue circle. </p>" + "<p>When the blue circle appears, press the letter <strong>F</strong> on your keyboard <strong>as fast as you can</strong>.</p>" + "<p style = 'font-size: 12px;'><strong>When you're ready, place your finger on the F key and press any key to begin.</p>",
      post_trial_gap: 1250
    };
    timeline.push(calibration_test_instructions);
    

    var test_stimuli = [
      {stimulus: "img/blue.png"},
    ];

    var calibration_fixation = {
      type: 'html-keyboard-response',
      stimulus: '<div style="font-size:60px;">+</div>',
      choices: jsPsych.NO_KEYS,
      //prompt: "<p>Press F when a blue circle appears.</p>",
      trial_duration: function() {
        return jsPsych.randomization.sampleWithoutReplacement([1000], 1)[0];
      }
    }

    var calibration_test = {
      type: "image-keyboard-response",
      stimulus: jsPsych.timelineVariable('stimulus'),
      choice: ['f']
    };

    var calibration_test_procedure = {
      timeline: [calibration_fixation, calibration_test],
      timeline_variables: test_stimuli,
      //randomized_order: true,
      repetitions: 5
    }
    timeline.push(calibration_test_procedure);

    var calibration_end = {
      type: "html-keyboard-response",
      stimulus: "<p>Thank you for completing the calibration test.</p>" + "<p style = 'font-size: 12px;'><strong>Press any key to continue.</p>" ,
    }
    timeline.push(calibration_end);


    var languages = ["Afrikaans","Albanian","Arabic","Armenian","Basque","Bengali","Bulgarian",
                                "Catalan","Cambodian","Chinese(Mandarin)","Croatian","Czech",
                                "Danish","Dutch","English","Estonian","Fiji","Finnish","French",
                                "Georgian","German","Greek","Gujarati","Hebrew","Hindi","Hungarian",
                                "Icelandic","Indonesian","Irish","Italian","Japanese","Javanese",
                                "Korean","Latin","Latvian","Lithuanian","Macedonian","Malay",
                                "Malayalam","Maltese","Maori","Marathi","Mongolian","Nepali",
                                "Norwegian","Persian","Polish","Portuguese","Punjabi","Quechua",
                                "Romanian","Russian","Samoan","Serbian","Slovak","Slovenian",
                                "Spanish","Swahili","Swedish","Tamil","Tatar","Telugu",
                                "Thai","Tibetan","Tonga","Turkish","Ukrainian","Urdu",
                                "Uzbek","Vietnamese","Welsh","Xhosa"];

    var ages = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25",
    "26", "27", "28", "28", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50",
    "51", "52", "53", "54", "55", "56", "57", "58", "59", "60", "61", "62", "63", "64", "65", "66", "67", "68", "69", "70", "71", "72", "73", "75", "75", "76",
    "77", "78", "79", "80", "81", "82", "83", "84", "85", "86", "87", "88", "89", "90", "91", "92", "93", "94", "95", "96", "97", "98", "99", "100"];
    
    var sex = ["Male", "Female"];


var demographics = {
	type: 'dropdown',
	superq: "Please answer the following questions:",
    questions: [
		{
  			text: "<strong>What language do you speak most often?</strong>",
  			options: languages,
  			allowMultipleSelections: false,
  			required: true,
  			placeholder: "Select language",
		},
		{
 			text: "<strong>What language do you speak at home?</strong>",
  			options: languages,
  			allowMultipleSelections: false,
  			required: true,
  			placeholder: "Select language",
		},
		{
  			text: "<strong>What is your mother tongue? (i.e. the first language you learned at home during childhood and still understand to this day.)</strong>",
  			options: languages,
  			allowMultipleSelections: false,
  			required: true,
  			placeholder: "Select language",
		},
		{
  			text: "<strong>What is your age?</strong>",
  			options: ages,
  			allowMultipleSelections: false,
  			required: true,
  			placeholder: "Select age",
		},
		{
  			text: "<strong>What is your sex?</strong>",
  			options: ["Male", "Female", "Other"],
  			allowMultipleSelections: false,
  			required: true,
  			placeholder: "Select sex",
		}
		],
		};
timeline.push(demographics);
    
  
      var instructions = {
        type: "html-keyboard-response",
        stimulus: "<p><strong><u>INSTRUCTIONS</u></strong></p>" + "<p>A cross will appear in the center of your screen, followed by an underlined word (for example, <u>to jump</u>). The word will then change to either the correct past tense (jumped), an incorrect past tense (for example, jamp), or a fake word (for example, waxyz).</p>" +
          "<br>If the word is the <strong>correct past tense</strong>, press the <strong>F key</strong>. If the word is an <strong>incorrect past tense</strong> or a <strong>fake word</strong>, press the <strong>J key</strong>.</p>" + "<p><strong>Move as quickly as you can without losing accuracy.</strong></p>" + "<br><strong>When you're ready, place your fingers on the F and J keys.</p>" + "<p style = 'font-size: 12px;'><strong>Press any key to begin the practice test.</p>",
        post_trial_gap: 1250,};
     
      timeline.push(instructions);



    var practice_fixation = {
      type: 'html-keyboard-response',
      //stimulus: "<p><strong>+</strong></p>" + "<p style = 'color:White; font-size: 24px;'>ooo</p>",
      stimulus: '<div><font size="+3">+</font></div>',
      choices: jsPsych.NO_KEYS,
      //prompt: "Press F for correct word and J for not the correct word.",
      prompt: 
      	  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>incorrect</strong></p></div>" +
          "</div>",
      trial_duration: function() {
        return jsPsych.randomization.sampleWithoutReplacement([1000], 1)[0];
      }
    };

    

    var practice_test_stimuli = [
      { stimulus: "<p>to jump</p>" + "<p style = 'font-size: 24px;'><strong>jumped</strong></p>" },
      { stimulus: "<p>to paint</p>" + "<p style = 'font-size: 24px;'><strong>painted</strong></p>" },
      { stimulus: "<p>to climb</p>" + "<p style = 'font-size: 24px;'><strong>clomb</strong></p>" },
      { stimulus: "<p>to seek</p>" + "<p style = 'font-size: 24px;'><strong>sought</strong></p>" },
      { stimulus: "<p>to fly</p>" + "<p style = 'font-size: 24px;'><strong>flewwed</strong></p>" },
      { stimulus: "<p>to quit</p>" + "<p style = 'font-size: 24px;'><strong>quought</strong></p>"},
      { stimulus: "<p>to smile</p>" + "<p style = 'font-size: 24px;'><strong>xpkyz</strong></p>"},
      { stimulus: "<p>to open</p>" + "<p style = 'font-size: 24px;'><strong>opened</strong></p>"},
      { stimulus: "<p>to kick</p>" + "<p style = 'font-size: 24px;'><strong>keecked</strong></p>" },
      { stimulus: "<p>to sing</p>" + "<p style = 'font-size: 24px;'><strong>sung</strong></p>"},
    ];

    var practice_test_1 = {
    type: 'same-different-html',
    stimuli: ['<p><font size="+3"><u>to jump</u></font></p>', '<p><font size="+3">jumped</font></p>'],
    //timing_first_stim: 1000,
    second_stim_duration: null,
    //prompt: "Press F for the correct word and J for not the correct word.",

    prompt:  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>",

    same_key: 'f',
    different_key: 'j'
  };

      var practice_test_2 = {
    type: 'same-different-html',
    stimuli: ['<p><font size="+3"><u>to paint</u></font></p>', '<p><font size="+3">painted</font></p>'],
    //timing_first_stim: 1000,
    second_stim_duration: null,
    //prompt: "Press F for the correct word and J for not the correct word.",
    prompt:  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>",

    same_key: 'f',
    different_key: 'j'
  };

      var practice_test_3 = {
    type: 'same-different-html',
    stimuli: ['<p><font size="+3"><u>to climb</u></font></p>', '<p><font size="+3">clomb</font></p>'],
    //timing_first_stim: 1000,
   second_stim_duration: null,
    //prompt: "Press F for the correct word and J for not the correct word.",

    prompt:  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>",
    same_key: 'f',
    different_key: 'j'
  };

      var practice_test_4 = {
    type: 'same-different-html',
    stimuli: ['<p><font size="+3"><u>to seek</u></font></p>', '<p><font size="+3">sought</font></p>'],
    timing_first_stim: 1000,
    second_stim_duration: null,
    //prompt: "Press F for the correct word and J for not the correct word.",

    prompt:  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>",
    same_key: 'f',
    different_key: 'j'
  };

      var practice_test_5 = {
    type: 'same-different-html',
    stimuli: ['<p><font size="+3"><u>to fly</u></font></p>', '<p><font size="+3">flewwed</font></p>'],
    timing_first_stim: 1000,
   second_stim_duration: null,
    //prompt: "Press F for the correct word and J for not the correct word.",
    prompt:  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>",
    same_key: 'f',
    different_key: 'j'
  };

      var practice_test_6 = {
    type: 'same-different-html',
    stimuli: ['<p><font size="+3"><u>to quit</u></font></p>', '<p><font size="+3">quought</font></p>'],
    timing_first_stim: 1000,
    second_stim_duration: null,
   // prompt: "Press F for the correct word and J for not the correct word.",

    prompt:  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>",

    same_key: 'f',
    different_key: 'j'
  };

      var practice_test_7 = {
    type: 'same-different-html',
    stimuli: ['<p><font size="+3"><u>to smile</u></font></p>', '<p><font size="+3">xpkyz</font></p>'],
    timing_first_stim: 1000,
    second_stim_duration: null,
   // prompt: "Press F for the correct word and J for not the correct word.",
    prompt:  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>",
    same_key: 'f',
    different_key: 'j'
  };

    var practice_test_8 = {
    type: 'same-different-html',
    stimuli: ['<p><font size="+3"><u>to open</u></font></p>', '<p><font size="+3">opened</font></p>'],
    timing_first_stim: 1000,
   second_stim_duration: null,
    //prompt: "Press F for the correct word and J for not the correct word.",

    prompt:  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>",

    same_key: 'f',
    different_key: 'j'
  };

    var practice_test_9 = {
    type: 'same-different-html',
    stimuli: ['<p><font size="+3"><u>to kick</u></font></p>', '<p><font size="+3">keecked</font></p>'],
    timing_first_stim: 1000,
    second_stim_duration: null,
    //prompt: "Press F for the correct word and J for not the correct word.",

    prompt:  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>",
    same_key: 'f',
    different_key: 'j'
  };
    //creating the test
    var practice_test = {
      type: "html-keyboard-response",
      stimulus: jsPsych.timelineVariable('stimulus'),
      choices: ['f', 'j'],
      prompt:  
      	  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>"
    }


      var practice_one = {
      timeline: [practice_fixation, practice_test_1, practice_fixation, practice_test_2, practice_fixation, practice_test_3, practice_fixation, practice_test_4, practice_fixation, practice_test_5, practice_fixation, practice_test_6, practice_fixation, practice_test_7, practice_fixation, practice_test_8, practice_fixation, practice_test_9],
      //timeline_variables: practice_test_stimuli,
      //randomize_order: true
    };
    timeline.push(practice_one);

    var checkbox = {
    	type: "html-button-response",
    	stimulus: "<p>Thank you for completing the practice test.</p>" + "<p>A pop-up will appear at the end of the experiment. This pop-up will contain a code you can copy-paste into Mechanical Turk. I understand that if I close the pop-up, there is no way to re-access the code. I understand that if I close the pop-up before copying the code, I will not be paid.</p>",
    	choices: ['I agree'],
    };
    timeline.push(checkbox);


     var practice_thanks = {
      type: "html-keyboard-response",
      stimulus: "<p>We'll now begin the experiment, which will take about <strong>5 minutes</strong>.</p>" + "<p>Make sure you're in a comfortable position and free from any distractions such as music, the TV, other people in the room, etc.</p>" + "<p>This experiment requires your undivided attention. Data containing unusual activity or response times must be excluded, and workers will not be paid.</p>" + "<br>A pop-up will appear at the end of the experiment. Please remember to copy-paste this code into Mechanical Turk.</br>" + "<br><strong>When you're ready, place your fingers on the F and J keys.</p>" + "<p style = 'font-size: 12px;'><strong>Press any key to begin the experiment.</p>",
           post_trial_gap: 1250,
    };
    timeline.push(practice_thanks);
    //test stimuli data. Separated into 5 groups depending on inflection class (test_stimuli_one is all stimuli with an inflection class between 0 and 10, test_stimuli_two between 10 and 20, etc.)

    

    var practice_fixation = {
      type: 'html-keyboard-response',
      //stimulus: "<p><strong>+</strong></p>" + "<p style = 'color:White; font-size: 24px;'>ooo</p>",
      stimulus: '<p><font size="+3">+</font></p>',
      choices: jsPsych.NO_KEYS,
      //prompt: "Press F for correct word and J for not the correct word.",
      prompt: 
          "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>incorrect</strong></p></div>" +
          "</div>",
      trial_duration: function() {
        return jsPsych.randomization.sampleWithoutReplacement([1000], 1)[0];
      }
    };


var test_stimuli_38_1 = [
      { stimuli: ['<p><font size="+3"><u>to drink</u></font></p>', '<p><font size="+3">drank</font></p>']},
      { stimuli: ['<p><font size="+3"><u>to drink</u></font></p>', '<p><font size="+3">drinked</font></p>']},
      { stimuli: ['<p><font size="+3"><u>to blink</u></font></p>', '<p><font size="+3">blank</font></p>']},
      { stimuli: ['<p><font size="+3"><u>to blink</u></font></p>', '<p><font size="+3">blinked</font></p>']},
      ];

var test_stimuli_38_2 = [

{ stimuli: ['<p><font size="+3"><u>to ring</u></font></p>', '<p><font size="+3">rang</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to ring</u></font></p>', '<p><font size="+3">ringed</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to ping</u></font></p>', '<p><font size="+3">pang</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to ping</u></font></p>', '<p><font size="+3">pinged</font></p>']},
      ];

var test_stimuli_38_3 = [ 

{ stimuli: ['<p><font size="+3"><u>to sing</u></font></p>', '<p><font size="+3">sang</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to sing</u></font></p>', '<p><font size="+3">singed</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to wring</u></font></p>', '<p><font size="+3">wrang</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to wring</u></font></p>', '<p><font size="+3">wringed</font></p>']},
      ];

var test_stimuli_38_4 = [

{ stimuli: ['<p><font size="+3"><u>to sink</u></font></p>', '<p><font size="+3">sank</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to sink</u></font></p>', '<p><font size="+3">sinked</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to link</u></font></p>', '<p><font size="+3">lank</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to link</u></font></p>', '<p><font size="+3">linked</font></p>']},
      ];

 var test_stimuli_38_5 = [

 { stimuli: ['<p><font size="+3"><u>to spring</u></font></p>', '<p><font size="+3">sprang</font></p>']},
 { stimuli: ['<p><font size="+3"><u>to spring</u></font></p>', '<p><font size="+3">springed</font></p>']},
 { stimuli: ['<p><font size="+3"><u>to string</u></font></p>', '<p><font size="+3">strang</font></p>']},
 { stimuli: ['<p><font size="+3"><u>to string</u></font></p>', '<p><font size="+3">stringed</font></p>']},
    ];

   var test_stimuli_15_1 = [

   { stimuli: ['<p><font size="+3"><u>to ride</u></font></p>', '<p><font size="+3">rode</font></p>']},
   { stimuli: ['<p><font size="+3"><u>to ride</u></font></p>', '<p><font size="+3">rided</font></p>']},
   { stimuli: ['<p><font size="+3"><u>to side</u></font></p>', '<p><font size="+3">sode</font></p>']},
   { stimuli: ['<p><font size="+3"><u>to side</u></font></p>', '<p><font size="+3">sided</font></p>']},
    ];

    var test_stimuli_15_2 = [

    { stimuli: ['<p><font size="+3"><u>to shine</u></font></p>', '<p><font size="+3">shone</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to shine</u></font></p>', '<p><font size="+3">shined</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to whine</u></font></p>', '<p><font size="+3">whone</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to whine</u></font></p>', '<p><font size="+3">whined</font></p>']},
    ];

    var test_stimuli_15_3 = [

    { stimuli: ['<p><font size="+3"><u>to dive</u></font></p>', '<p><font size="+3">dove</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to dive</u></font></p>', '<p><font size="+3">dived</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to thrive</u></font></p>', '<p><font size="+3">throve</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to thrive</u></font></p>', '<p><font size="+3">thrived</font></p>']},
    ];

    var test_stimuli_15_4 = [

    { stimuli: ['<p><font size="+3"><u>to rise</u></font></p>', '<p><font size="+3">rose</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to rise</u></font></p>', '<p><font size="+3">rised</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to size</u></font></p>', '<p><font size="+3">soze</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to size</u></font></p>', '<p><font size="+3">sized</font></p>']},
    ];

    var test_stimuli_15_5 = [

    { stimuli: ['<p><font size="+3"><u>to write</u></font></p>', '<p><font size="+3">wrote</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to write</u></font></p>', '<p><font size="+3">writed</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to excite</u></font></p>', '<p><font size="+3">excote</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to excite</u></font></p>', '<p><font size="+3">excited</font></p>']},
   ];

   var test_stimuli_8 = [

   { stimuli: ['<p><font size="+3"><u>to grind</u></font></p>', '<p><font size="+3">ground</font></p>']},
   { stimuli: ['<p><font size="+3"><u>to grind</u></font></p>', '<p><font size="+3">grinded</font></p>']},
   { stimuli: ['<p><font size="+3"><u>to blind</u></font></p>', '<p><font size="+3">blound</font></p>']},
   { stimuli: ['<p><font size="+3"><u>to blind</u></font></p>', '<p><font size="+3">blinded</font></p>']},
    ];

    var test_stimuli_28_1 = [

{ stimuli: ['<p><font size="+3"><u>to hide</u></font></p>', '<p><font size="+3">hid</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to hide</u></font></p>', '<p><font size="+3">hided</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to side</u></font></p>', '<p><font size="+3">sid</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to side</u></font></p>', '<p><font size="+3">sided</font></p>']},
    ];

    var test_stimuli_28_2 = [

    { stimuli: ['<p><font size="+3"><u>to light</u></font></p>', '<p><font size="+3">lit</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to light</u></font></p>', '<p><font size="+3">lighted</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to blight</u></font></p>', '<p><font size="+3">blit</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to blight</u></font></p>', '<p><font size="+3">blighted</font></p>']},
    ];
     	
    var test_stimuli_28_3 = [

    { stimuli: ['<p><font size="+3"><u>to slide</u></font></p>', '<p><font size="+3">slid</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to slide</u></font></p>', '<p><font size="+3">slided</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to glide</u></font></p>', '<p><font size="+3">glid</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to glide</u></font></p>', '<p><font size="+3">glided</font></p>']},
    ];

    var test_stimuli_30_1 = [

    { stimuli: ['<p><font size="+3"><u>to blow</u></font></p>', '<p><font size="+3">blew</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to blow</u></font></p>', '<p><font size="+3">blowed</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to flow</u></font></p>', '<p><font size="+3">flew</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to flow</u></font></p>', '<p><font size="+3">flowed</font></p>']},
    ];

    var test_stimuli_30_2 = [

    { stimuli: ['<p><font size="+3"><u>to grow</u></font></p>', '<p><font size="+3">grew</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to grow</u></font></p>', '<p><font size="+3">growed</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to snow</u></font></p>', '<p><font size="+3">snew</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to snow</u></font></p>', '<p><font size="+3">snowed</font></p>']},
    ];

    var test_stimuli_30_3 = [

    { stimuli: ['<p><font size="+3"><u>to know</u></font></p>', '<p><font size="+3">knew</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to know</u></font></p>', '<p><font size="+3">knowed</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to row</u></font></p>', '<p><font size="+3">rew</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to row</u></font></p>', '<p><font size="+3">rowed</font></p>']},
    ];

    var test_stimuli_30_4 = [

    { stimuli: ['<p><font size="+3"><u>to throw</u></font></p>', '<p><font size="+3">threw</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to throw</u></font></p>', '<p><font size="+3">throwed</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to slow</u></font></p>', '<p><font size="+3">slew</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to slow</u></font></p>', '<p><font size="+3">slowed</font></p>']},
    ];

    var test_stimuli_36_1 = [

    { stimuli: ['<p><font size="+3"><u>to bleed</u></font></p>', '<p><font size="+3">bled</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to bleed</u></font></p>', '<p><font size="+3">bleeded</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to kneed</u></font></p>', '<p><font size="+3">kned</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to kneed</u></font></p>', '<p><font size="+3">kneeded</font></p>']},
    ];

    var test_stimuli_36_2 = [

    { stimuli: ['<p><font size="+3"><u>to breed</u></font></p>', '<p><font size="+3">bred</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to breed</u></font></p>', '<p><font size="+3">breeded</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to bead</u></font></p>', '<p><font size="+3">bed</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to bead</u></font></p>', '<p><font size="+3">beaded</font></p>']},
    ];

    var test_stimuli_36_3 = [

    { stimuli: ['<p><font size="+3"><u>to feed</u></font></p>', '<p><font size="+3">fed</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to feed</u></font></p>', '<p><font size="+3">feeded</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to need</u></font></p>', '<p><font size="+3">ned</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to need</u></font></p>', '<p><font size="+3">needed</font></p>']},
    ];

    var test_stimuli_20_1 = [

    { stimuli: ['<p><font size="+3"><u>to fling</u></font></p>', '<p><font size="+3">flung</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to fling</u></font></p>', '<p><font size="+3">flinged</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to flick</u></font></p>', '<p><font size="+3">fluck</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to flick</u></font></p>', '<p><font size="+3">flicked</font></p>']},
    ];

     var test_stimuli_20_2 = [

     { stimuli: ['<p><font size="+3"><u>to spin</u></font></p>', '<p><font size="+3">spun</font></p>']},
     { stimuli: ['<p><font size="+3"><u>to spin</u></font></p>', '<p><font size="+3">spinned</font></p>']},
     { stimuli: ['<p><font size="+3"><u>to grin</u></font></p>', '<p><font size="+3">grun</font></p>']},
     { stimuli: ['<p><font size="+3"><u>to grin</u></font></p>', '<p><font size="+3">grinned</font></p>']},
    ];

     var test_stimuli_20_3 = [

     { stimuli: ['<p><font size="+3"><u>to stick</u></font></p>', '<p><font size="+3">stuck</font></p>']},
     { stimuli: ['<p><font size="+3"><u>to stick</u></font></p>', '<p><font size="+3">sticked</font></p>']},
     { stimuli: ['<p><font size="+3"><u>to click</u></font></p>', '<p><font size="+3">cluck</font></p>']},
     { stimuli: ['<p><font size="+3"><u>to click</u></font></p>', '<p><font size="+3">clicked</font></p>']},
    ];

     var test_stimuli_20_4 = [

{ stimuli: ['<p><font size="+3"><u>to win</u></font></p>', '<p><font size="+3">won</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to win</u></font></p>', '<p><font size="+3">winned</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to sin</u></font></p>', '<p><font size="+3">son</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to sin</u></font></p>', '<p><font size="+3">sinned</font></p>']},
    ];

     var test_stimuli_20_5 = [

     { stimuli: ['<p><font size="+3"><u>to swing</u></font></p>', '<p><font size="+3">swang</font></p>']},
     { stimuli: ['<p><font size="+3"><u>to swing</u></font></p>', '<p><font size="+3">swinged</font></p>']},
     { stimuli: ['<p><font size="+3"><u>to bring</u></font></p>', '<p><font size="+3">brang</font></p>']},
     { stimuli: ['<p><font size="+3"><u>to bring</u></font></p>', '<p><font size="+3">bringed</font></p>']},
    ];

var test_stimuli_12_1 = [

{ stimuli: ['<p><font size="+3"><u>to weep</u></font></p>', '<p><font size="+3">wept</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to weep</u></font></p>', '<p><font size="+3">weeped</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to beep</u></font></p>', '<p><font size="+3">bept</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to beep</u></font></p>', '<p><font size="+3">beeped</font></p>']},
    ];

    var test_stimuli_12_2 = [

    { stimuli: ['<p><font size="+3"><u>to dream</u></font></p>', '<p><font size="+3">drempt</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to dreamed</u></font></p>', '<p><font size="+3">dreamed</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to scream</u></font></p>', '<p><font size="+3">scrempt</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to scream</u></font></p>', '<p><font size="+3">scream</font></p>']},
    ];

    var test_stimuli_12_3 = [

    { stimuli: ['<p><font size="+3"><u>to mean</u></font></p>', '<p><font size="+3">meant</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to mean</u></font></p>', '<p><font size="+3">meaned</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to beam</u></font></p>', '<p><font size="+3">beamt</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to beam</u></font></p>', '<p><font size="+3">beamed</font></p>']},
    ];

    var test_stimuli_12_4 = [

    { stimuli: ['<p><font size="+3"><u>to leap</u></font></p>', '<p><font size="+3">lept</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to leap</u></font></p>', '<p><font size="+3">leaped</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to peep</u></font></p>', '<p><font size="+3">pept</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to peep</u></font></p>', '<p><font size="+3">peeped</font></p>']},
	];

var test_stimuli_14_1 = [

{ stimuli: ['<p><font size="+3"><u>to freeze</u></font></p>', '<p><font size="+3">froze</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to freeze</u></font></p>', '<p><font size="+3">freezed</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to sneeze</u></font></p>', '<p><font size="+3">snoze</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to sneeze</u></font></p>', '<p><font size="+3">sneezed</font></p>']},
    ];

    var test_stimuli_14_2 = [

    { stimuli: ['<p><font size="+3"><u>to speak</u></font></p>', '<p><font size="+3">spoke</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to speak</u></font></p>', '<p><font size="+3">speaked</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to leak</u></font></p>', '<p><font size="+3">loke</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to leak</u></font></p>', '<p><font size="+3">leaked</font></p>']},
    ];

    var test_stimuli_14_3 = [

    { stimuli: ['<p><font size="+3"><u>to steal</u></font></p>', '<p><font size="+3">stole</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to steal</u></font></p>', '<p><font size="+3">stealed</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to seal</u></font></p>', '<p><font size="+3">sole</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to seal</u></font></p>', '<p><font size="+3">sealed</font></p>']},
    ];

    var test_stimuli_14_4 = [

    { stimuli: ['<p><font size="+3"><u>to weave</u></font></p>', '<p><font size="+3">wove</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to weave</u></font></p>', '<p><font size="+3">weaved</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to tease</u></font></p>', '<p><font size="+3">tose</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to tease</u></font></p>', '<p><font size="+3">teased</font></p>']},
	];

var test_stimuli_18_1 = [

{ stimuli: ['<p><font size="+3"><u>to bend</u></font></p>', '<p><font size="+3">bent</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to bend</u></font></p>', '<p><font size="+3">bended</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to bond</u></font></p>', '<p><font size="+3">bont</font></p>']},
{ stimuli: ['<p><font size="+3"><u>to bond</u></font></p>', '<p><font size="+3">bonded</font></p>']},
    ];

    var test_stimuli_18_2 = [

    { stimuli: ['<p><font size="+3"><u>to build</u></font></p>', '<p><font size="+3">built</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to build</u></font></p>', '<p><font size="+3">builded</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to bound</u></font></p>', '<p><font size="+3">bount</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to bound</u></font></p>', '<p><font size="+3">bounded</font></p>']},
    ];

    var test_stimuli_18_3 = [

    { stimuli: ['<p><font size="+3"><u>to lend</u></font></p>', '<p><font size="+3">lent</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to lend</u></font></p>', '<p><font size="+3">lended</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to land</u></font></p>', '<p><font size="+3">lant</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to land</u></font></p>', '<p><font size="+3">landed</font></p>']},
    ];

    var test_stimuli_18_4 = [

    { stimuli: ['<p><font size="+3"><u>to send</u></font></p>', '<p><font size="+3">sent</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to send</u></font></p>', '<p><font size="+3">sended</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to fend</u></font></p>', '<p><font size="+3">fent</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to fend</u></font></p>', '<p><font size="+3">fended</font></p>']},
    ];

    var test_stimuli_18_5 = [

    { stimuli: ['<p><font size="+3"><u>to spend</u></font></p>', '<p><font size="+3">spent</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to spend</u></font></p>', '<p><font size="+3">spended</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to blend</u></font></p>', '<p><font size="+3">blent</font></p>']},
    { stimuli: ['<p><font size="+3"><u>to blend</u></font></p>', '<p><font size="+3">blended</font></p>']},
];

var array = [test_stimuli_38_1, test_stimuli_38_2, test_stimuli_38_3, test_stimuli_38_4, test_stimuli_38_5, test_stimuli_15_1, test_stimuli_15_2, test_stimuli_15_3, test_stimuli_15_4, test_stimuli_15_5, test_stimuli_8, test_stimuli_28_1, test_stimuli_28_2, test_stimuli_28_3, test_stimuli_30_1, test_stimuli_30_2, test_stimuli_30_3, test_stimuli_30_4, test_stimuli_36_1, test_stimuli_36_2, test_stimuli_36_3, test_stimuli_20_1, test_stimuli_20_2, test_stimuli_20_3, test_stimuli_20_4, test_stimuli_20_5, test_stimuli_12_1, test_stimuli_12_2, test_stimuli_12_3, test_stimuli_12_4, test_stimuli_14_1, test_stimuli_14_2, test_stimuli_14_4, test_stimuli_18_1, test_stimuli_18_2, test_stimuli_18_3, test_stimuli_18_4, test_stimuli_18_5];
    
    var sample = jsPsych.randomization.sampleWithoutReplacement(array, 22);

    var big = sample[0].concat(sample[1], sample[2], sample[3], sample[4], sample[5], sample[6], sample[7], sample[8], sample[9], sample[10], sample[11], sample[12], sample[13], sample[14], sample[15], sample[16], sample[17], sample[18], sample[19], sample[20], sample[21]);

    print(big);

    var big_shuffled = jsPsych.randomization.shuffle(big);

    
    //var small = sample[0].concat(sample[1]);

    //var small_shuffled = jsPsych.randomization.shuffle(small);
    
    
    //creating the test
   var test = {
    type: 'same-different-html',
    stimuli: jsPsych.timelineVariable('stimuli'),
    //timing_first_stim: 1000,
    second_stim_duration: null,
    //prompt: "Press F for the correct word and J for not the correct word.",

    prompt:  "<div style='width: 600px;'>" +
          "<div style='float: left;'><img src='img/letter_f.png'></img>" +
          "<p class='small'><strong>correct</strong></p></div>" + 
          "<div style='width: 600px;'>" +
          "<div class='float: right;'><img src='img/letter_j.png'></img>" +
          "<p class='small'><strong>         incorrect</strong></p></div>" +
          "</div>",

    same_key: 'f',
    different_key: 'j'
  };

    /*
     prompt: "<div style='height: 700px; width: 500px; position: relative'>" +
          "<img style='position: absolute; top: 0px;'><img src='img/j.png'></img>" +
          "</div>"
    */
    

    //creating the individual trials and pushing them onto the timeline
    var trial_one = {
      timeline: [practice_fixation, test],
      timeline_variables: big_shuffled,
      //randomize_order: true
    }
    timeline.push(trial_one);

    
    /*
    var trial_two = {
      timeline: [test],
      timeline_variables: sample_two,
      randomize_order: true
    }
    //timeline.push(trial_two);

    var trial_three = {
      timeline: [test],
      timeline_variables: sample_three,
      randomize_order: true
    }
    //timeline.push(trial_three);

    var trial_four = {
      timeline: [test],
      timeline_variables: sample_four,
      randomize_order: true
    }
    //timeline.push(trial_four);

    var trial_five = {
      timeline: [test],
      timeline_variables: sample_five,
      randomize_order: true
    }
    //timeline.push(trial_five);

    var trial_six = {
      timeline: [test],
      timeline_variables: sample_six,
      randomize_order: true
    }
    //timeline.push(trial_six);

    var array = [trial_one, trial_two, trial_three, trial_four, trial_five, trial_six];
    var shuffledArray = jsPsych.randomization.shuffle(array);

    timeline.push(shuffledArray[0]);
    timeline.push(shuffledArray[1]);
    timeline.push(shuffledArray[2]);
    timeline.push(shuffledArray[3]);
    timeline.push(shuffledArray[4]);
    timeline.push(shuffledArray[5]);
    

    /*

    function saveData(name, data){
      var xhr = new XMLHttpRequest();
      xhr.open('POST', 'write_data.php'); // 'write_data.php' is the path to the php file described above.
      xhr.setRequestHeader('Content-Type', 'application/json');
      xhr.send(JSON.stringify({filename: name, filedata: data}));
    }

    function writeUserData(userID) {
      var id = firebase.database().ref('userID/');
      id.push(userID);
    }
    */
    var code = jsPsych.randomization.randomID(5);

    function saveToFirebase(code, filedata){
      var ref = firebase.database().ref(code).set(filedata);
    }

    function writeUserData(code) {
      firebase.database().ref('users/' + code).set({
      //User ID: code,
      data: jsPsych.data.get().csv(),
      interactionData: jsPsych.data.getInteractionData().json()
      });
    }


    var submit_block = {
      type: "html-keyboard-response",
      stimulus: "<strong>Congratulations!</strong>" + "<p>You've completed the experiment.</p>" + "<br>Thank you for your participation.</p>" + "<br>WARNING: the code will appear as a pop-up. You will not be able to access the code if you close the pop-up.</br>" + "<p style = 'font-size: 12px;'><strong>Press any key to receive the code.</strong></p>",
      timing_response: .001,      
      timing_post_trial: 0,
      on_finish: function() {
        //var code = makeid();
        writeUserData(code);
      }
    }
    timeline.push(submit_block);

    jsPsych.init({
      timeline: timeline,
      on_finish: function() {
        //var turk = jsPsych.turk.turkInfo().hitId
        jsPsych.data.displayData('json');
        //alert("Your survey code is: " + code + ". Please copy this code now and paste it into Mechanical Turk. " + "You may then close this tab.");
      }
    });

    //var turk = 'TURK' + jsPsych.randomization.randomID(10);
  
  </script>
</html>
